## Figures

```{r data_clean,echo=FALSE,message=FALSE,results='markup'}


## set chunk options
opts_chunk$set(results='markup',message=TRUE,warning=FALSE,echo=FALSE,fig.cap=FALSE,dev="png")

## load packages
library(ggplot2)
library(bipartite)
library(reshape2)
library(vegan)
library(picante)
library(beanplot)

source("../R.scripts/cleanup_organization_for_graphing_analysis.R")



```

<!-- Statistics on euclidian distance results: -->
```{r euclidian}
#summary(lm(pred_abd_matrix[lower.tri(pred_abd_matrix)]~pred_phylo_matrix[lower.tri(pred_phylo_matrix)]))


#mantel.test(pred_phylo_matrix,pred_abd_matrix)
```

<!-- Statistics on correlation results: -->

```{r correlation statistics}
#summary(lm(pred_cor_matrix[lower.tri(pred_cor_matrix)]~pred_phylo_matrix[lower.tri(pred_phylo_matrix)]))


#mantel.test(pred_phylo_matrix,pred_cor_matrix)
```



```{r phyloimage}
plot(predtree_timetree_ages)
```

```{r occurance}

```


```{r diet_similarity}
plot(dist.mat[lower.tri(dist.mat)]~phylodist[lower.tri(phylodist)],
     xlab="phylogenetic distance (Mya)",ylab="similarity in diet (jaccard index)")
```
## Figure 1
similarity between predators in diet composition in food web trials, as predicted by phylogenetic distance. 


```{r}
#visweb(foodweb.matrix)
```

```{r foodweb_full}
#  plotweb(foodweb.matrix)
```

```{r foodweb_expermental}
# ## should display only those which are in the experiment:
# dimnames(foodweb.matrix)[[1]][c(1,2,3,5,7,8,9,9,11,12,14)]
# dimnames(foodweb.matrix)[[2]][c(1,2,3,4)]
# 
# plotweb(y.width.low=0.05,y.width.high=0.05,ybig=1,
#         foodweb.matrix[c(1,2,3,5,7,8,9,9,11,12,14),c(1,2,3,4)])
```

```{r}
# the PROBLEM is that there are 0s and there are NAs and I want to have a means
## of displaying each
#visweb(labsize=0.4,
#       foodweb.matrix[c(1,2,3,5,7,8,9,9,11,12,14),c(1,2,3,4)])

```

```{r}
#pdf("euclid_metabolic.pdf")
#plot(pred_abd_matrix[lower.tri(pred_abd_matrix)]~jitter(pred_phylo_matrix[lower.tri(pred_phylo_matrix)],amount=5),
#     xlab="phylogenetic distance",ylab="euclidian distance between total metabolic capacity")
#dev.off()
```

```{r}
# #pdf("cor_metabolic.pdf")
# plot(pred_cor_matrix[lower.tri(pred_cor_matrix)]~jitter(pred_phylo_matrix[lower.tri(pred_phylo_matrix)],amount=10),
#      xlab="phylogenetic distance",ylab="correlation between total metabolic capacity")
# #dev.off()
```
